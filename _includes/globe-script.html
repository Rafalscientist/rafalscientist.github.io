<!-- Musisz dodać tę linię na samym początku -->
<script src="unpkg.com"></script>

<script>
  const myData = [
    { 
      city: "Münster (Germany)", 
      lat: 51.96, lng: 7.62, 
      events: [{ name: "NOEKS 15", id: "noeks-15", nr: "15" }] 
    },
    { 
      city: "Kraków (Poland)", 
      lat: 50.06, lng: 19.94, 
      events: [{ name: "Konferencja Fizyki", id: "krakow-2024", nr: "12" }] 
    },
    { 
      city: "Warsaw (Poland)", 
      lat: 52.22, lng: 21.01, 
      events: [{ name: "Warsaw Theory Day", id: "warsaw-2021", nr: "3" }] 
    }
  ];

  const world = Globe()
    (document.getElementById('globeViz'))
    // POPRAWIONY ADRES OBRAZU:
    .globeImageUrl('unpkg.com')
    .pointsData(myData)
    .pointColor(() => '#ffffff')
    .pointRadius(0.5)
    .pointLabel(d => {
      const links = d.events.map(e => 
        `<a href="#${e.id}" style="color: #4da6ff; text-decoration: none;">
          <span style="color: #888;">[${e.nr}]</span> ${e.name}
        </a>`).join('<br/>');
      return `<div style="background: rgba(0,0,0,0.85); padding: 10px; border: 1px solid #444; border-radius: 4px; font-family: sans-serif;">
                <b style="color: white;">${d.city}</b><br/>${links}
              </div>`;
    })
    .onPointClick(d => {
      // Poprawione odwołanie do ID (dodane [0])
      if (d.events.length === 1) {
        window.location.hash = d.events[0].id;
      }
    });

  world.pointOfView({ lat: 52, lng: 19, altitude: 1.8 });
  world.controls().enableZoom = false;

  // Automatyczne dopasowanie rozmiaru do Twojego czarnego prostokąta
  const container = document.getElementById('globeViz');
  world.width(container.offsetWidth);
  world.height(container.offsetHeight);
</script>
